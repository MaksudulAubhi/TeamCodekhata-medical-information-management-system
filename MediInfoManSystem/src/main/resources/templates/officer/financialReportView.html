<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Financial Report:Medical Information Management System</title>
<link rel="icon" type="image/gif/png" href="/image/title.png">
<link rel="stylesheet" href="/css/index.css">
<link rel="stylesheet" href="/css/form.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
#session, #income, #expense, #profit, #loss{
 	padding:7px 17px 7px 17px;
 	
 }
.tablePart{
    position:absolute;
 	background:rgba(0,0,0,0.6);
 	padding:22px;
 	font-size:17px;	
 	margin:40px;
 	width:auto;


}

table,th,td{
	border:2px solid black;
	border-collapse:collapse;
	background:;
	
}
th,#discuss{
	background:rgba(0,0,0,0.7);
}
th,td{
	padding:10px;
	text-align:left;
}
td:hover{
	background:rgba(0,0,0,0.2);
}
h4{
	float:right;

}
button{
 padding:8px;
 background: black;
 color: white;
}
button:hover{
	 
   background: white;
   color: black;

}

</style>

</head>
<body>
	<div class="wrapper">
		<img alt="medical system" src="/image/medical-2.jpg" width="100%"
			height="1900">
		<div class="content">
			<h3>Medical Information Management System</h3>
			
				
			<div th:switch="${role}">
				<span th:case="'[Head]'" class="link"><a th:href="@{/headPage}">Home</a></span>
				<span th:case="'[Officer]'" class="link"><a th:href="@{/officerPage}">Home</a></span>
				
			</div>
			<br>
			
			<button id="generate" th:if="${role=='[Officer]'}">Generate Report</button><br><br>
			
			<input th:value="${financial.session}" id="session" readonly>
			<input th:value="${financial.inc_total}" id="income" readonly>
			<input th:value="${financial.exp_total}" id="expense" readonly>
			<input th:value="${financial.profit}" id="profit" readonly>
			<input th:value="${financial.loss}" id="loss" readonly>
			
			<br><br>
			
			
			
			<button onClick="javascript:graph()">Generate Chart For This Report </button>
			<br><br>
			 <div id="chartContainer" style="height:430px; max-width: 950px;
			        margin:0px auto;">
			    
			    </div>
			    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
			
			
			
			<div class="tablePart" id="print">
			<h3>Financial Report</h3>
			<p th:utext="'Report ID: '+${financial.id}"></p>
			<p id="session" th:utext="'[Report Session: '+${financial.session} + ']          [Report Create:   '+ ${financial.date}+']'"></p>
			
			<br>
			<table style="width:100%">

			    	
			    <thead>
			    	<tr>
			    		<th>Serial</th>
			    		<th>Income (Details)</th>
			    		<th>Income Cost</th>
			    		<th>Expense (Details)</th>
			    		<th>Expense Cost</th>
			    
			    		
			    	
			    	
			    	</tr>
			    
			    </thead>
			    <tbody>
			    	<tr >
			    		<td>1.</td>
			    		<td th:utext="${financial.inc1_name}"></td>
			    		<td th:utext="${financial.inc1_ammount}"></td>
			            <td th:utext="${financial.exp1_name}"></td>
			    		<td th:utext="${financial.exp1_ammount}"></td>
			    
			    	</tr>
			    	<tr >
			    		<td>2.</td>
			    		<td th:utext="${financial.inc2_name}"></td>
			    		<td th:utext="${financial.inc2_ammount}"></td>
			    	    <td th:utext="${financial.exp2_name}"></td>
			    		<td th:utext="${financial.exp2_ammount}"></td>
			    
			    	</tr>
			    	<tr >
			    		<td>3.</td>
			    		<td th:utext="${financial.inc3_name}"></td>
			    		<td th:utext="${financial.inc3_ammount}"></td>
			    	    <td th:utext="${financial.exp3_name}"></td>
			    		<td th:utext="${financial.exp3_ammount}"></td>
			    
			    	</tr>
			    	<tr >
			    		<td>4.</td>
			    		<td th:utext="${financial.inc4_name}"></td>
			    		<td th:utext="${financial.inc4_ammount}"></td>
			    	    <td th:utext="${financial.exp4_name}"></td>
			    		<td th:utext="${financial.exp4_ammount}"></td>
			    
			    	</tr>
			    	<tr >
			    		<td>5.</td>
			    		<td th:utext="${financial.inc5_name}"></td>
			    		<td th:utext="${financial.inc5_ammount}"></td>
			    	    <td th:utext="${financial.exp5_name}"></td>
			    		<td th:utext="${financial.exp5_ammount}"></td>
			    
			    	</tr>
			    	<tr>
			    		<td>6.</td>
			    		<td th:utext="${financial.inc6_name}"></td>
			    		<td th:utext="${financial.inc6_ammount}"></td>
			    	    <td th:utext="${financial.exp6_name}"></td>
			    		<td th:utext="${financial.exp6_ammount}"></td>
			    
			    	</tr>
			    	<tr >
			    		<td>7.</td>
			    		<td th:utext="${financial.inc7_name}"></td>
			    		<td th:utext="${financial.inc7_ammount}"></td>
			    	    <td th:utext="${financial.exp7_name}"></td>
			    		<td th:utext="${financial.exp7_ammount}"></td>
			    
			    	</tr>
			    	<tr>
			    		<td>8.</td>
			    		<td th:utext="${financial.inc8_name}"></td>
			    		<td th:utext="${financial.inc8_ammount}"></td>
			    	    <td th:utext="${financial.exp8_name}"></td>
			    		<td th:utext="${financial.exp8_ammount}"></td>
			    
			    	</tr>
			    	<tr >
			    		<td>9.</td>
			    		<td th:utext="${financial.inc9_name}"></td>
			    		<td th:utext="${financial.inc9_ammount}"></td>
			    	    <td th:utext="${financial.exp9_name}"></td>
			    		<td th:utext="${financial.exp9_ammount}"></td>
			    
			    	</tr>
			    	<tr >
			    		<td>10.</td>
			    		<td th:utext="${financial.inc10_name}"></td>
			    		<td th:utext="${financial.inc10_ammount}"></td>
			    	    <td th:utext="${financial.exp10_name}"></td>
			    		<td th:utext="${financial.exp10_ammount}"></td>
			    
			    	</tr>
			    	<tr id="discuss">
			    		<td></td>
			    		<td th:utext="Total"></td>
			    		<td th:utext="${financial.inc_total}" id="income"></td>
			    	    <td th:utext="Total"></td>
			            <td th:utext="${financial.exp_total}" id="expense"></td>
			    	</tr>
			    	<tr id="discuss">
			    		<td></td>
			    		<td></td>
			    		<td th:utext="Profit"></td>
			    		<td th:utext="${financial.profit}" id="profit"></td>
			    	    <td></td>
			    
			    	</tr>
			    	<tr id="discuss">
			    		<td></td>
			    		<td></td>
			    		<td th:utext="Loss"></td>
			    		<td th:utext="${financial.loss}" id="loss"></td>
			    	    <td></td>
			    
			    	</tr>
			    
			    
			    
			    </tbody>
			    
			    
			    
			    
			    </table>
			    <br><br><br>
			    
		
			
			

		</div>
		    
	
		</div>
		
		<div class="date">
			<p id="demo"></p>
		</div>
	</div>
	
	<script>
	document.getElementById("generate").addEventListener("click",function(){
		var printContents=document.getElementById('print').innerHTML;
		var originalContents=document.body.innerHTML;
		document.body.innerHTML=printContents;
		window.print();
		document.body.innerHTML=originalContents;
	});
	
	</script>
	

	
	
	
	<script type="text/javascript">
		var d = new Date();
		document.getElementById("demo").innerHTML = d;
	</script>
	
	
		

</body>

<script>
/*	window.onload=*/	function graph(){
			var income=parseFloat(document.getElementById("income").value);
			var expense=parseFloat(document.getElementById("expense").value);
			var profit=parseFloat(document.getElementById("profit").value);
			var loss=parseFloat(document.getElementById("loss").value);
			var session=document.getElementById("session").value;
			
			var chart= new CanvasJS.Chart("chartContainer",{
				
				animationEnabled: true,
				theme: "light2",
				title:{
					text: "Medical Information Management System(Financial Report)"
					
				},
				
				axisY:{
					title:"Ammount(Taka)"
				},
				data:[{
					type:"column",
					showInLegend:true,
					legendMarkerColor:"grey",
					legendText: session,
					dataPoints:[
						{y: income, label:"Income"},
						{y: expense, label:"Expense"},
						{y: profit, label:"Profit"},
						{y: loss, label:"Loss"}
						
					]
				}]
			});
			chart.render();
		}
	
	
	</script>
	
</html>